---
const links = [
  { name: "Experiencia", path: "#experiencia", icon: "briefcase" },
  { name: "Proyectos", path: "#proyectos", icon: "folder" },
  { name: "Contacto", path: "#contacto", icon: "mail" },
];

const icons: Record<string, string> = {
  briefcase: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 7V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"/></svg>`,
  folder: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>`,
  mail: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>`,
};
---

<!-- Barra superior con nombre y navegación -->
<div class="absolute top-0 left-0 right-0 z-40 flex justify-between items-center px-12 md:px-24" style="height: 60px;">
  <!-- Nombre a la izquierda (siempre visible) -->
  <div class="flex items-center h-full">
    <a href="#inicio" class="text-foreground text-2xl font-bold tracking-wide hover:text-primary transition-all duration-300 relative group">
      InflvxDev
      <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-foreground transition-all duration-300 group-hover:w-full"></span>
    </a>
  </div>
  
  <!-- Navegación con etiquetas a la derecha (oculta en mobile) -->
  <nav class="hidden md:flex items-center h-full">
    <ul class="flex gap-8 items-center">
      {links.map((link, index) => (
        <li class="nav-item-container">
          <a href={link.path} class="nav-tag" data-index={index}>
            <div class="tag-icon" set:html={icons[link.icon]} />
            <span class="tag-content">{link.name}</span>
          </a>
        </li>
      ))}
    </ul>
  </nav>
</div>

<style>
  /* Contenedor de cada etiqueta */
  .nav-item-container {
    position: relative;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Etiquetas de navegación */
  .nav-tag {
    position: relative;
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    padding: 1.5rem 1.25rem 0.5rem 1.25rem;
    background: var(--background);
    border: 2px solid color-mix(in srgb, var(--primary) 30%, transparent);
    border-top: none;
    border-bottom-left-radius: 0.5rem;
    border-bottom-right-radius: 0.5rem;
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--foreground);
    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
                background-color 0.3s ease,
                border-color 0.3s ease,
                box-shadow 0.3s ease;
    cursor: pointer;
    box-shadow: 0 2px 8px color-mix(in srgb, var(--primary) 20%, transparent);
    will-change: transform;
    backface-visibility: hidden;
    white-space: nowrap;
    transform: translateY(0) translateZ(0);
  }

  .nav-tag:hover {
    transform: translateY(7px) translateZ(0);
    background: color-mix(in srgb, var(--primary) 8%, var(--background));
    border-color: var(--primary);
    box-shadow: 0 4px 16px color-mix(in srgb, var(--primary) 40%, transparent);
  }

  .tag-content {
    display: block;
    transition: color 0.3s ease;
  }

  .tag-icon {
    display: none;
    width: 1.5rem;
    height: 1.5rem;
    margin-bottom: 0.5rem;
    color: var(--primary);
    transition: all 0.3s ease;
  }

  .nav-tag:hover .tag-icon {
    display: block;
    animation: slideIconDown 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  @keyframes slideIconDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>